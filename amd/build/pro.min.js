define(["jquery","core/log","core/config"],function(e,o,r){var i={component:"local_tabbedquickform",shortcomponent:"local_tabbedquickform",componentpath:"local/tabbedquickform",init:function(){var r="#id_s_"+i.component+"_licensekey";e(r).bind("change",this.check_product_key),e(r).trigger("change"),o.debug("AMD Pro js initialized for "+i.component+" system")},check_product_key:function(){var o="#id_s_"+i.component+"_licensekey",t=e(this),c=t.val().replace(/-/g,""),n=c.substr(0,14),a=c.substr(14,2),m=i.checksum(n),s=' <img src="'+r.wwwroot+'/pix/i/valid.png">',p=' <img src="'+r.wwwroot+'/pix/i/warning.png">',l=' <img src="'+r.wwwroot+'/pix/i/invalid.png">',g=' <img src="'+r.wwwroot+'/pix/i/ajaxloader.gif">';if(a===m){var v=r.wwwroot+"/"+i.componentpath+"/pro/ajax/services.php?";v+="what=license",v+="&service=check",v+="&customerkey="+t.val(),v+="&provider="+e("#id_s_"+i.component+"_licenseprovider").val(),e(o+" + img").remove(),e(o).after(g),e.get(v,function(r){r.match(/SET OK/)?r.match(/-\d+.*$/)?(e(o+" + img").remove(),e(o).after(p)):(e(o+" + img").remove(),e(o).after(s)):(e(o+" + img").remove(),e(o).after(l))},"html")}else e(o+" + img").remove(),e(o).after(p)},checksum:function(e){var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),r=o.length,i=e.split(""),t=0;for(var c in i){t+=i[c].charCodeAt(0)}var n=Math.floor(t/r)%r;return""+o[t%r]+o[n]}};return i});